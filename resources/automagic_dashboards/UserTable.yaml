title: Useres
description: Some useful metrics about the [[GenericTable]] table to get you started.
metrics:
- Count:
    metric: [count]
- TotalIncome: [sum, [dimension, Income]]
dimensions:
- JoinDate:
    field_type: JoinTimestamp
    score: 100
- JoinDate:
    field_type: CreationTimestamp
    score: 90
- JoinDate:
    field_type: DateTime
    score: 30
- Source:
    field_type: Source
- State:
    field_type: State
- Country: Country
- UserID: PK
- UserFK:
    field_type: TransactionTable.FK
    links_to: UserTable
- Timestamp:
    field_type: TransactionTable.CreationTimestamp
- Timestamp:
    field_type: TransactionTable.DateTime
- Income:
    field_type: TransactionTable.Income
- Name: Name
cards:
- NewUsersByMonth:
    visualization: line
    title: New users by month
    description: How many new users have we acquired each month
    dimensions: JoinDate
    metrics: Count
- UsersByState:
    visualization:
      map:
        map.type: region
        map.region: us_states
    title: Users by state
    dimensions: State
    metrics: Count
- UsersByCountry:
    visualization:
      map:
        map.type: region
        map.region: world_countries
    title: Users by country
    dimensions: Country
    metrics: Count
- UsersBySource:
    title: Users by source
    dimensions: Source
    metrics: Count
    visualization: row
    order_by:
      - Count: descending
- Top10Users:
    title: Top 10 users by income
    dimensions: Name
    metrics: TotalIncome
    visualization: row
    limit: 10
    order_by:
      TotalIncome: descending
- FirstYearSalesDistribution:
    title: First year sales
    description: Distribution of number of orders a user makes in their first year
    query: select count(*) as NUM_USERS, NUM_ORDERS
           from (select count(*) as NUM_ORDERS
                 from [[TransactionTable]] left join [[UserTable]]
                   on [[UserFK]] = [[UserID]]
                 where datediff("MONTH", [[JoinDate]], [[Timestamp]]) <= 12
                 group by [[UserID]])
           group by NUM_ORDERS
    visualization:
      bar:
        graph.dimensions: [NUM_ORDERS]
        graph.metrics: [NUM_USERS]
