dashboards:
- title: Orders autogenerated
  as: orders_dashboard
  description: Autogenerated dashboard
metrics:
- title: Average discount
  as: average_discount
  query:
    aggregation: [/, [sum, [field-type, Discount]], [sum, [field-type, Income]]]
cards:
- dashboard: orders_dashboard
  visualization: line
  title: Income by month
  description: Total income by month
  query:
    breakout: [datetime-field, [field-type, CreationTimestamp], month]
    aggregation: [sum, [field-type, Income]]
- dashboard: orders_dashboard
  visualization: line
  title: Average quantity by month
  description: Average item quantity by month
  query:
    breakout: [datetime-field, [field-type, CreationTimestamp], month]
    aggregation: [avg, [field-type, Quantity]]
- dashboard: orders_dashboard
  visualization: line
  title: Average discount by month
  query:
    breakout: [datetime-field, [field-type, CreationTimestamp], month]
    aggregation: [[metric, average_discount]]
- dashboard: orders_dashboard
  visualization: line
  title: Unique users by month
  description: How many unique users have placed and order in a given month
  query:
    breakout: [datetime-field, [field-type, CreationTimestamp], month]
    aggregation: [distinct, [field-type, User]]
- dashboard: orders_dashboard
  visualization: row
  title: Top 10 products by sales
  query:
    breakout: [[field-type, Product]]
    aggregation: [count]
    limit: 10
    order_by: [[[aggregation, 0], "descending"]]
