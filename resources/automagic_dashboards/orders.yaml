bindings:
  fields:
  - named:
    - [total, 1.0]
    - [amount, 0.9]
    - [income, 1.0]
    - [price, 0.6]
    type: Number
    as: income
    table: ?orders
  - named:
    - [created_at, 1.0]
    - [timestamp, 1.0]
    - [date, 0.8]
    type: DateTime
    as: timestamp
    table: ?orders
  - named:
    - [user, 1.0]
    - [account, 0.9]
    - [customer, 0.9]
    - [email, 0.3]
    type:
    - [FK, 1.0]
    - [String, 0.8]
    - [Integer, 0.4]
    as: user
    table: ?orders
  tables:
  - named:
    - [orders, 1.0]
    - [transactions, 1.0]
    - [sales, 1.0]
    - [products, 0.0]
    as: orders
cards:
- dashboard: Orders autogenerated
  visualization: line
  title: Income by month
  description: Total income by month
  query:
    source_table: "?orders"
    breakout: [datetime-field, [field-id, "?timestamp"], month]
    aggregation: [sum, [field-id, "?income"]]
- dashboard: Orders autogenerated
  visualization: line
  title: Unique users by month
  description: How many unique users have placed and order in a given month
  query:
    source_table: "?orders"
    breakout: [datetime-field, [field-id, "?timestamp"], month]
    aggregation: [distinct, [field-id, "?user"]]
