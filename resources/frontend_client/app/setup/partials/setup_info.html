<style type="text/css">
    .Setup--section {
        margin-top: 10px;
        margin-left: 10px;
        margin-right: 10px;
        padding: 10px;
        border: 4px solid lightgray;
        min-height: 50px;
    }
    .Setup--active {
        border: 4px solid blue;
    }
    .Setup--completed {
        border: 4px solid #9CC177;
    }
</style>

<div class="wrapper">
    <section class="Setup--section" ng-class="{ 'Setup--active' : activeStep == 'user', 'Setup--completed' : completedSteps.user }">
            <h3>1. User</h3>
            <form class="Form-new" name="form" ng-submit="createOrgAndUser()" novalidate ng-if="activeStep == 'user'" novalidate>
                <div class="Form-field" mb-form-field="first_name">
                    <mb-form-label display-name="First name" field-name="first_name"></mb-form-label>
                    <input class="Form-input Form-offset full" name="first_name" placeholder="John" ng-model="newUser.first_name" required autofocus />
                    <span class="Form-charm"></span>
                </div>

                <div class="Form-field" mb-form-field="last_name">
                    <mb-form-label display-name="Last name" field-name="last_name"></mb-form-label>
                    <input class="Form-input Form-offset full" name="last_name" placeholder="Doe" ng-model="newUser.last_name" required />
                    <span class="Form-charm"></span>
                </div>

                <div class="Form-field" mb-form-field="email">
                    <mb-form-label display-name="Email" field-name="email"></mb-form-label>
                    <input class="Form-input Form-offset full" name="email" placeholder="johndoe@mycompany.com" ng-model="newUser.email" required />
                    <span class="Form-charm"></span>
                </div>

                <div class="Form-field" mb-form-field="password">
                    <mb-form-label display-name="Create a password - Must be 8 characters long and include one upper case letter, one a number and one special character" field-name="password"></mb-form-label>
                    <input class="Form-input Form-offset full" name="password" type="password" placeholder="Create a new password" ng-model="newUser.password" required>
                    <span class="Form-charm"></span>
                </div>

                <div class="Form-field" mb-form-field="repeated_password">
                    <mb-form-label display-name="Verify your new password" field-name="password"></mb-form-label>
                    <input class="Form-input Form-offset full" type="password" placeholder="Type it again so we can verify it" ng-model="newUser.repeated_password" required>
                    <span class="Form-charm"></span>
                </div>

                <div class="Form-field" mb-form-field="organization">
                    <mb-form-label display-name="Organization name" field-name="password"></mb-form-label>
                    <input class="Form-input Form-offset full" name="organization" type="text" placeholder="Organization name" ng-model="userOrgName" autofocus required>
                    <span class="Form-charm"></span>
                </div>

                <div class="Form-actions">
                    <button class="Button" ng-class="{'Button--primary': form.$valid}" ng-click="save(newUser)" ng-disabled="!form.$valid">
                        Create
                    </button>
                </div>
            </form>
          <div class="bg-error text-white p2 rounded" ng-show="error">
              {{error}}
          </div>
    </section>

    <section class="Setup--section" ng-class="{ 'Setup--active' : activeStep == 'database', 'Setup--completed' : completedSteps.database }">
        <h3>2. Database</h3>
        <div ng-controller="DatabaseEdit" ng-if="activeStep == 'database'">
            <form class="Form-new bordered rounded shadowed" name="form" novalidate>
                <!-- Form -->
                <div ng-include="'/app/admin/databases/partials/database_edit_forms.html'"></div>

                <!-- Bottom Actions -->
                <div class="Form-actions">
                    <button class="Button" ng-class="{'Button--primary': form.$valid}" ng-click="save(database, details, false)" ng-disabled="!form.$valid">
                        Save
                    </button>
                    <mb-form-message></mb-form-message>
                </div>
            </form>
        </div>
    </section>

    <section class="Setup--section" ng-class="{ 'Setup--active' : activeStep == 'finish' }" >
        <h3>3. Finish</h3>
    </section>
</div>
