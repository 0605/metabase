<div>
    <div ng-cloak>
        <alert class="alert" ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" ng-animate=" 'animate' " cv-delayed-call="closeAlert($index)">{{alert.msg}}</alert>
    </div>

    <div class="clearfix">
        <a class="Button float-right" cv-admin-create-user organization="currentOrg" callback="createdUser">Add teammate</a>
        <h2>People</h2>
    </div>

    <ul class="List">
        <li class="List-item List-section clearfix" ng-repeat="perm in people">
            <div class="float-right">
                <a class="Button" ng-if="perm.admin" ng-click="revokeAdmin($index)">Revoke Admin</a>
                <a class="Button" ng-if="!perm.admin" ng-click="grantAdmin($index)">Grant Admin</a>
                <a class="Button" cv-admin-edit-user="perm">Edit</a>
                <a class="Button" cv-admin-edit-password="perm">Change password</a>
                <a class="Button" ng-click="removeMember(perm.user.id)" delete-confirm>x</a>
            </div>
            <h4>{{perm.user.common_name}} ({{perm.user.email}})</h4>
            <span ng-if="perm.admin">Administrator</span>
            <span ng-if="!perm.admin">Member</span>
        </li>
    </ul>
</div>
